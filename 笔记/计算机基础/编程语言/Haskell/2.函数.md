---
---

# 函数

>一等公民

## 声明和调用语法

### 前缀函数

```haskell
add :: Int -> Int -> Int -- 类型声明，最后一个是返回值类型，前面依次是各个参数类型
add x y = x + y -- 绑定声明
```

### 中缀函数

+ 优先级：0-9，数字越大优先级越高
+ 结合性：在参数大于等于三个时优先运算的方向
  + `infixl`：左结合
  + `infixr`：右结合
  + `infix`：不结合，参数大于三个时必须使用括号明确运算的顺序

```haskell
(+++) :: [a] -> [a] -> [a]
xs +++ ys = xs ++ ys ++ ys -- [1, 2, 3] +++ [4, 5] -- 结果是 [1,2,3,4,5,4,5]
infixl 5 +++ -- 指定中缀函数的优先级和结合性
```

有两个形参的普通函数也可以当做中缀函数使用

```haskell
add :: Int -> Int -> Int
add x y = x + y
n = 1 `add` 2 -- 结果是 3
infixl 5 `add` -- 同样可以使用infix声明
```

同样中缀函数也可以当做前缀函数使用  
这个用法叫`section`

```haskell
n = (+) 1 2 -- 结果是 3
```

## 其他特性

### 柯里化

将一个多参数的函数转化为一个新的函数  
这个新的函数接受一个参数并返回另一个函数，这个返回的函数等待下一个参数  
这个过程可以继续，直到所有参数都被接受  
这样，通过柯里化，一个多参数的函数可以被转化为一系列单参数函数

### 高阶函数

>返回函数或者以函数作为参数的函数

```haskell
applyTwice :: (a -> a) -> a -> a -- 函数作为参数
applyTwice f x = f (f x) -- 返回函数
```

```haskell

### 匿名函数

```txt
\arguments -> expression
```

匿名函数在 Haskell 中使用反斜线（\）开始，后跟参数列表，然后是 -> 和函数体

```haskell
\x y -> x + y

n = (\x y -> x + y) 1 2 -- 结果是 3
```

